<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fishery ID Tool</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            padding: 20px;
        }
        form {
            margin-bottom: 20px;
        }
        input[type="text"] {
            width: 300px;
            padding: 5px;
            margin-bottom: 10px;
        }
        input[type="submit"] {
            padding: 5px 10px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
        }
        .shark-gif {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Fishery ID Tool</h1>
    <img id="shark-gif" src="shark-dance-left-shark.gif" class="shark-gif" alt="Shark Dance Left Shark">

    <h2>Create Fishery ID</h2>
    <form method="POST">
        <input type="text" name="species" placeholder="Species code (e.g., SCD)" required value="{{ decoded_fields.species if decoded_fields else '' }}"><br>
        <input type="text" name="area" placeholder="Assessment area (e.g., PHL_REG:6 of PHL_FMA:11)" required value="{{ decoded_fields.area if decoded_fields else '' }}"><br>
        <input type="text" name="authority" placeholder="Management authority (e.g., NAT)" required value="{{ decoded_fields.authority if decoded_fields else '' }}"><br>
        <input type="text" name="management_area" placeholder="Management area (e.g., PHL_FMA:11)" required value="{{ decoded_fields.management_area if decoded_fields else '' }}"><br>
        <input type="text" name="flag" placeholder="Vessel flag (e.g., PHL)" required value="{{ decoded_fields.flag if decoded_fields else '' }}"><br>
        <input type="text" name="gear" placeholder="Gear type (e.g., FPO)" required value="{{ decoded_fields.gear if decoded_fields else '' }}"><br>
        <input type="submit" name="create" value="Create Fishery ID">
    </form>

    {% if created_id %}
    <h3>Created Fishery ID:</h3>
    <pre>{{ created_id }}</pre>
    {% endif %}

    <h2>Decode Fishery ID</h2>
    <form method="POST">
        <input type="text" name="semantic_id" placeholder="Enter semantic identifier (e.g., asfis:SCD +PHL_REG:6 of PHL_FMA:11 + authority:NAT: PHL+ PHL_FMA:11 + iso3:PHL+isscfg:FPO)" required><br>
        <input type="submit" name="decode" value="Decode Fishery ID">
    </form>

    {% if decoded_id %}
    <h3>Decoded Fishery ID:</h3>
    <pre>{{ decoded_id | tojson(indent=2) }}</pre>
    {% endif %}

    <h2>Generate IT Identifier (UUID) from Semantic ID</h2>
    <form method="POST">
        <input type="text" name="semantic_id" placeholder="Enter semantic identifier" required><br>
        <input type="submit" name="generate_uuid" value="Generate UUID">
    </form>

    {% if uuid_id %}
    <h3>Generated UUID:</h3>
    <pre>{{ uuid_id }}</pre>
    {% endif %}

    <h2>Get Semantic ID from UUID</h2>
    <form method="POST">
        <input type="text" name="uuid" placeholder="Enter UUID" required><br>
        <input type="submit" name="get_semantic_id" value="Get Semantic ID">
    </form>

    {% if semantic_id_from_uuid %}
    <h3>Semantic ID from UUID:</h3>
    <pre>{{ semantic_id_from_uuid }}</pre>
    {% endif %}
</body>
</html>
